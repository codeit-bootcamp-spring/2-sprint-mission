### 스프링 적용 이전
```java
public class JavaApplication {
    static User setupUser(UserService userService) {
        User user = userService.create("woody", "woody@codeit.com", "woody1234");
        return user;
    }

    static Channel setupChannel(ChannelService channelService) {
        Channel channel = channelService.create(ChannelType.PUBLIC, "공지", "공지 채널입니다.");
        return channel;
    }

    static void messageCreateTest(MessageService messageService, Channel channel, User author) {
        Message message = messageService.create("안녕하세요.", channel.getId(), author.getId());
        System.out.println("메시지 생성: " + message.getId());
    }

    public static void main(String[] args) {
        // 레포지토리 초기화
        UserRepository userRepository = new FileUserRepository();
        ChannelRepository channelRepository = new FileChannelRepository();
        MessageRepository messageRepository = new FileMessageRepository();

        // 서비스 초기화
        UserService userService = new BasicUserService(userRepository);
        ChannelService channelService = new BasicChannelService(channelRepository);
        MessageService messageService = new BasicMessageService(messageRepository, channelRepository, userRepository);

        // 셋업
        User user = setupUser(userService);
        Channel channel = setupChannel(channelService);
        // 테스트
        messageCreateTest(messageService, channel, user);
    }
}
```

### 스프링 적용 이후
```java
@SpringBootApplication
public class DiscodeitApplication {
	static User setupUser(UserService userService) {
		User user = userService.create("woody", "woody@codeit.com", "woody1234");
		return user;
	}

	static Channel setupChannel(ChannelService channelService) {
		Channel channel = channelService.create(ChannelType.PUBLIC, "공지", "공지 채널입니다.");
		return channel;
	}

	static void messageCreateTest(MessageService messageService, Channel channel, User author) {
		Message message = messageService.create("안녕하세요.", channel.getId(), author.getId());
		System.out.println("메시지 생성: " + message.getId());
	}
	public static void main(String[] args) {
		ConfigurableApplicationContext context = SpringApplication.run(DiscodeitApplication.class, args);
        
                // 빈 초기화
		UserService userService = context.getBean(UserService.class);
		MessageService messageService = context.getBean(MessageService.class);
		ChannelService channelService = context.getBean(ChannelService.class);

                //셋업
		User user = setupUser(userService);
		Channel channel = setupChannel(channelService);
		// 테스트
		messageCreateTest(messageService, channel, user);
	}

}
```

## IoC 컨테이너
- IoC: 객체의 생성과 관리를 개발자가 아님 프레임워크가 담당함
- 스프링에서는 객체를 Bean으로 등록하여 각 객체의 생성,관리를 IoC 컨테이너가 담당하도록 한다.
### 스프링 적용 이전
- 모든 객체(UserService, UserRepository,...)를 명시적으로 선언해서 관리함
### 스프링 적용 이후
- `@SpringBootApplication`을 사용하여 IoC 컨테이너 생성
- `SpringApplication.run`으로 Bean 자동 관리

## Dependency Injection
### 스프링 적용 이전
- `UserService userService = new BasicUserService(userRepository)` 같이 명시적으로 객체를 생성하고 수동적인 방식으로 의존성 주입
- 변경 시 코드 수정 범위가 커질 수 있다.
### 스프링 적용 이후
- `context.getBean(UserService.class)` 같은 방식으로 IoC 컨테이너에서 관리되고 있는 Bean을 사용

## Bean
- 스프링 컨테이너에서 자동 관리되는 객체
- `@Component`, `@Repository` 등을 통해 자동 등록 혹은 `@Bean`으로 수동 등록
### 스프링 적용 이전
- Spring Bean 개념이 없고, 객체의 생성 및 생성주기 관리를 수동으로 함
### 스프링 적용 이후
- Bean으로 등록 원하는 객체 위에 `@Component` 등의 annotation 표시
- 등록된 Bean, Spring이 자동 관리